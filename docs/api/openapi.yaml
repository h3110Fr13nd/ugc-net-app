components:
  schemas:
    Body_upload_image_api_v1_media_upload_image_post:
      properties:
        file:
          format: binary
          title: File
          type: string
      required:
      - file
      title: Body_upload_image_api_v1_media_upload_image_post
      type: object
    Body_upload_media_api_v1_media_upload_post:
      properties:
        file:
          format: binary
          title: File
          type: string
      required:
      - file
      title: Body_upload_media_api_v1_media_upload_post
      type: object
    GoogleTokenVerifyRequest:
      properties:
        id_token:
          title: Id Token
          type: string
      required:
      - id_token
      title: GoogleTokenVerifyRequest
      type: object
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          title: Detail
          type: array
      title: HTTPValidationError
      type: object
    LoginRequest:
      properties:
        email:
          format: email
          title: Email
          type: string
        password:
          title: Password
          type: string
      required:
      - email
      - password
      title: LoginRequest
      type: object
    MediaResponse:
      properties:
        checksum:
          anyOf:
          - type: string
          - type: 'null'
          title: Checksum
        created_at:
          format: date-time
          title: Created At
          type: string
        height:
          anyOf:
          - type: integer
          - type: 'null'
          title: Height
        id:
          format: uuid
          title: Id
          type: string
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        mime_type:
          anyOf:
          - type: string
          - type: 'null'
          title: Mime Type
        size_bytes:
          anyOf:
          - type: integer
          - type: 'null'
          title: Size Bytes
        storage_key:
          title: Storage Key
          type: string
        updated_at:
          format: date-time
          title: Updated At
          type: string
        uploaded_by:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Uploaded By
        url:
          title: Url
          type: string
        width:
          anyOf:
          - type: integer
          - type: 'null'
          title: Width
      required:
      - url
      - storage_key
      - id
      - created_at
      - updated_at
      title: MediaResponse
      type: object
    OptionCreate:
      properties:
        index:
          anyOf:
          - type: integer
          - type: 'null'
          title: Index
        is_correct:
          default: false
          title: Is Correct
          type: boolean
        label:
          anyOf:
          - type: string
          - type: 'null'
          title: Label
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        parts:
          items:
            $ref: '#/components/schemas/OptionPartCreate'
          title: Parts
          type: array
        weight:
          anyOf:
          - type: number
          - pattern: ^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$
            type: string
          default: '1.0'
          title: Weight
      title: OptionCreate
      type: object
    OptionPartCreate:
      properties:
        content:
          anyOf:
          - type: string
          - type: 'null'
          title: Content
        index:
          title: Index
          type: integer
        media_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Media Id
        part_type:
          title: Part Type
          type: string
      required:
      - index
      - part_type
      title: OptionPartCreate
      type: object
    OptionPartResponse:
      properties:
        content:
          anyOf:
          - type: string
          - type: 'null'
          title: Content
        id:
          format: uuid
          title: Id
          type: string
        index:
          title: Index
          type: integer
        media:
          anyOf:
          - $ref: '#/components/schemas/MediaResponse'
          - type: 'null'
        media_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Media Id
        option_id:
          format: uuid
          title: Option Id
          type: string
        part_type:
          title: Part Type
          type: string
      required:
      - index
      - part_type
      - id
      - option_id
      title: OptionPartResponse
      type: object
    OptionResponse:
      properties:
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          format: uuid
          title: Id
          type: string
        index:
          anyOf:
          - type: integer
          - type: 'null'
          title: Index
        is_correct:
          default: false
          title: Is Correct
          type: boolean
        label:
          anyOf:
          - type: string
          - type: 'null'
          title: Label
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        parts:
          items:
            $ref: '#/components/schemas/OptionPartResponse'
          title: Parts
          type: array
        question_id:
          format: uuid
          title: Question Id
          type: string
        updated_at:
          format: date-time
          title: Updated At
          type: string
        weight:
          default: '1.0'
          pattern: ^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$
          title: Weight
          type: string
      required:
      - id
      - question_id
      - created_at
      - updated_at
      title: OptionResponse
      type: object
    QuestionAttemptCreate:
      properties:
        attempt_index:
          anyOf:
          - type: integer
          - type: 'null'
          title: Attempt Index
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        parts:
          items:
            $ref: '#/components/schemas/QuestionAttemptPartCreate'
          title: Parts
          type: array
        question_id:
          format: uuid
          title: Question Id
          type: string
        quiz_attempt_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Quiz Attempt Id
      required:
      - question_id
      title: QuestionAttemptCreate
      type: object
    QuestionAttemptPartCreate:
      properties:
        file_media_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: File Media Id
        numeric_response:
          anyOf:
          - type: number
          - pattern: ^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$
            type: string
          - type: 'null'
          title: Numeric Response
        question_part_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Question Part Id
        raw_response:
          anyOf:
          - additionalProperties: true
            type: object
          - type: 'null'
          title: Raw Response
        selected_option_ids:
          anyOf:
          - items:
              format: uuid
              type: string
            type: array
          - type: 'null'
          title: Selected Option Ids
        text_response:
          anyOf:
          - type: string
          - type: 'null'
          title: Text Response
      title: QuestionAttemptPartCreate
      type: object
    QuestionAttemptResponse:
      properties:
        attempt_index:
          anyOf:
          - type: integer
          - type: 'null'
          title: Attempt Index
        grading:
          anyOf:
          - additionalProperties: true
            type: object
          - type: 'null'
          title: Grading
        id:
          format: uuid
          title: Id
          type: string
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        question_id:
          format: uuid
          title: Question Id
          type: string
        quiz_attempt_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Quiz Attempt Id
        score:
          anyOf:
          - pattern: ^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$
            type: string
          - type: 'null'
          title: Score
        scored_at:
          anyOf:
          - format: date-time
            type: string
          - type: 'null'
          title: Scored At
        started_at:
          format: date-time
          title: Started At
          type: string
        submitted_at:
          anyOf:
          - format: date-time
            type: string
          - type: 'null'
          title: Submitted At
      required:
      - id
      - question_id
      - started_at
      - meta_data
      title: QuestionAttemptResponse
      type: object
    QuestionCreate:
      properties:
        answer_type:
          default: options
          title: Answer Type
          type: string
        canonical_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Canonical Id
        created_by:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Created By
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        difficulty:
          anyOf:
          - type: integer
          - type: 'null'
          title: Difficulty
        estimated_time_seconds:
          anyOf:
          - type: integer
          - type: 'null'
          title: Estimated Time Seconds
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        options:
          items:
            $ref: '#/components/schemas/OptionCreate'
          title: Options
          type: array
        parts:
          items:
            $ref: '#/components/schemas/QuestionPartCreate'
          title: Parts
          type: array
        scoring:
          additionalProperties: true
          title: Scoring
          type: object
        taxonomy_ids:
          anyOf:
          - items:
              format: uuid
              type: string
            type: array
          - type: 'null'
          title: Taxonomy Ids
        title:
          anyOf:
          - type: string
          - type: 'null'
          title: Title
      title: QuestionCreate
      type: object
    QuestionListResponse:
      properties:
        page:
          title: Page
          type: integer
        page_size:
          title: Page Size
          type: integer
        questions:
          items:
            $ref: '#/components/schemas/QuestionResponse'
          title: Questions
          type: array
        total:
          title: Total
          type: integer
      required:
      - questions
      - total
      - page
      - page_size
      title: QuestionListResponse
      type: object
    QuestionPartCreate:
      properties:
        content:
          anyOf:
          - type: string
          - type: 'null'
          title: Content
        content_json:
          anyOf:
          - additionalProperties: true
            type: object
          - type: 'null'
          title: Content Json
        index:
          title: Index
          type: integer
        media_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Media Id
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        part_type:
          title: Part Type
          type: string
      required:
      - index
      - part_type
      title: QuestionPartCreate
      type: object
    QuestionPartResponse:
      properties:
        content:
          anyOf:
          - type: string
          - type: 'null'
          title: Content
        content_json:
          anyOf:
          - additionalProperties: true
            type: object
          - type: 'null'
          title: Content Json
        id:
          format: uuid
          title: Id
          type: string
        index:
          title: Index
          type: integer
        media:
          anyOf:
          - $ref: '#/components/schemas/MediaResponse'
          - type: 'null'
        media_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Media Id
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        part_type:
          title: Part Type
          type: string
        question_id:
          format: uuid
          title: Question Id
          type: string
      required:
      - index
      - part_type
      - id
      - question_id
      title: QuestionPartResponse
      type: object
    QuestionResponse:
      properties:
        answer_type:
          default: options
          title: Answer Type
          type: string
        canonical_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Canonical Id
        created_at:
          format: date-time
          title: Created At
          type: string
        created_by:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Created By
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        difficulty:
          anyOf:
          - type: integer
          - type: 'null'
          title: Difficulty
        estimated_time_seconds:
          anyOf:
          - type: integer
          - type: 'null'
          title: Estimated Time Seconds
        id:
          format: uuid
          title: Id
          type: string
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        options:
          items:
            $ref: '#/components/schemas/OptionResponse'
          title: Options
          type: array
        parts:
          items:
            $ref: '#/components/schemas/QuestionPartResponse'
          title: Parts
          type: array
        scoring:
          additionalProperties: true
          title: Scoring
          type: object
        title:
          anyOf:
          - type: string
          - type: 'null'
          title: Title
        updated_at:
          format: date-time
          title: Updated At
          type: string
      required:
      - id
      - created_at
      - updated_at
      title: QuestionResponse
      type: object
    QuestionUpdate:
      properties:
        answer_type:
          anyOf:
          - type: string
          - type: 'null'
          title: Answer Type
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        difficulty:
          anyOf:
          - type: integer
          - type: 'null'
          title: Difficulty
        estimated_time_seconds:
          anyOf:
          - type: integer
          - type: 'null'
          title: Estimated Time Seconds
        meta_data:
          anyOf:
          - additionalProperties: true
            type: object
          - type: 'null'
          title: Meta Data
        options:
          anyOf:
          - items:
              $ref: '#/components/schemas/OptionCreate'
            type: array
          - type: 'null'
          title: Options
        parts:
          anyOf:
          - items:
              $ref: '#/components/schemas/QuestionPartCreate'
            type: array
          - type: 'null'
          title: Parts
        scoring:
          anyOf:
          - additionalProperties: true
            type: object
          - type: 'null'
          title: Scoring
        title:
          anyOf:
          - type: string
          - type: 'null'
          title: Title
      title: QuestionUpdate
      type: object
    QuizAttemptCreate:
      properties:
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        quiz_id:
          format: uuid
          title: Quiz Id
          type: string
        user_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: User Id
      required:
      - quiz_id
      title: QuizAttemptCreate
      type: object
    QuizAttemptResponse:
      properties:
        duration_seconds:
          anyOf:
          - type: integer
          - type: 'null'
          title: Duration Seconds
        id:
          format: uuid
          title: Id
          type: string
        max_score:
          anyOf:
          - pattern: ^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$
            type: string
          - type: 'null'
          title: Max Score
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        quiz_id:
          format: uuid
          title: Quiz Id
          type: string
        score:
          anyOf:
          - pattern: ^(?!^[-+.]*$)[+-]?0*\d*\.?\d*$
            type: string
          - type: 'null'
          title: Score
        started_at:
          format: date-time
          title: Started At
          type: string
        status:
          title: Status
          type: string
        submitted_at:
          anyOf:
          - format: date-time
            type: string
          - type: 'null'
          title: Submitted At
        user_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: User Id
      required:
      - id
      - quiz_id
      - started_at
      - status
      - meta_data
      title: QuizAttemptResponse
      type: object
    QuizCreate:
      properties:
        created_by:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Created By
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        status:
          default: draft
          title: Status
          type: string
        title:
          title: Title
          type: string
      required:
      - title
      title: QuizCreate
      type: object
    QuizResponse:
      properties:
        created_at:
          format: date-time
          title: Created At
          type: string
        created_by:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Created By
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        id:
          format: uuid
          title: Id
          type: string
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        published_at:
          anyOf:
          - format: date-time
            type: string
          - type: 'null'
          title: Published At
        status:
          default: draft
          title: Status
          type: string
        title:
          title: Title
          type: string
        updated_at:
          format: date-time
          title: Updated At
          type: string
      required:
      - title
      - id
      - created_at
      - updated_at
      title: QuizResponse
      type: object
    RegisterRequest:
      properties:
        email:
          format: email
          title: Email
          type: string
        name:
          anyOf:
          - type: string
          - type: 'null'
          title: Name
        password:
          title: Password
          type: string
      required:
      - email
      - password
      title: RegisterRequest
      type: object
    TaxonomyCreate:
      properties:
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        name:
          title: Name
          type: string
        node_type:
          default: topic
          title: Node Type
          type: string
        parent_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Parent Id
      required:
      - name
      title: TaxonomyCreate
      type: object
    TaxonomyResponse:
      properties:
        created_at:
          format: date-time
          title: Created At
          type: string
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        id:
          format: uuid
          title: Id
          type: string
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        name:
          title: Name
          type: string
        node_type:
          default: topic
          title: Node Type
          type: string
        parent_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Parent Id
        path:
          anyOf:
          - type: string
          - type: 'null'
          title: Path
        updated_at:
          format: date-time
          title: Updated At
          type: string
      required:
      - name
      - id
      - created_at
      - updated_at
      title: TaxonomyResponse
      type: object
    TaxonomyTreeResponse:
      properties:
        children:
          items:
            $ref: '#/components/schemas/TaxonomyTreeResponse'
          title: Children
          type: array
        created_at:
          format: date-time
          title: Created At
          type: string
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        id:
          format: uuid
          title: Id
          type: string
        meta_data:
          additionalProperties: true
          title: Meta Data
          type: object
        name:
          title: Name
          type: string
        node_type:
          default: topic
          title: Node Type
          type: string
        parent_id:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Parent Id
        path:
          anyOf:
          - type: string
          - type: 'null'
          title: Path
        updated_at:
          format: date-time
          title: Updated At
          type: string
      required:
      - name
      - id
      - created_at
      - updated_at
      title: TaxonomyTreeResponse
      type: object
    TokenRequest:
      properties:
        code:
          title: Code
          type: string
        redirect_uri:
          title: Redirect Uri
          type: string
      required:
      - code
      - redirect_uri
      title: TokenRequest
      type: object
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          title: Location
          type: array
        msg:
          title: Message
          type: string
        type:
          title: Error Type
          type: string
      required:
      - loc
      - msg
      - type
      title: ValidationError
      type: object
  securitySchemes:
    HTTPBearer:
      scheme: bearer
      type: http
info:
  title: UGC Net Backend
  version: 0.1.0
openapi: 3.1.0
paths:
  /api/v1/auth/google/token:
    post:
      description: 'Exchange an authorization code for tokens and return an application
        JWT.


        Request body: { "code": "...", "redirect_uri": "<registered-redirect-uri>"
        }'
      operationId: exchange_code_for_token_api_v1_auth_google_token_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Exchange Code For Token
      tags:
      - auth
  /api/v1/auth/google/url:
    get:
      description: 'Return a Google OAuth consent URL. The client should pass the
        redirect_uri that will receive the code.

        Example redirect_uri: com.example.net:/oauth2redirect'
      operationId: google_auth_url_api_v1_auth_google_url_get
      parameters:
      - in: query
        name: redirect_uri
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Redirect Uri
      - in: query
        name: scope
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Scope
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Google Auth Url
      tags:
      - auth
  /api/v1/auth/google/verify:
    post:
      description: 'Verify a Google ID token from the mobile/web app and create an
        application session.


        The Flutter app uses the google_sign_in package which provides the ID token.

        This endpoint verifies the token with Google and returns an application JWT.


        Request body: { "id_token": "<Google ID token>" }'
      operationId: verify_google_token_api_v1_auth_google_verify_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GoogleTokenVerifyRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Verify Google Token
      tags:
      - auth
  /api/v1/auth/login:
    post:
      description: Login with email and password.
      operationId: login_api_v1_auth_login_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Login
      tags:
      - auth
  /api/v1/auth/logout:
    post:
      description: Revoke refresh token and clear cookie.
      operationId: logout_api_v1_auth_logout_post
      parameters:
      - in: cookie
        name: refresh_token
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Refresh Token
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Logout
      tags:
      - auth
  /api/v1/auth/refresh:
    post:
      description: Rotate and return a new access token. Refresh token is read from
        httpOnly cookie.
      operationId: refresh_api_v1_auth_refresh_post
      parameters:
      - in: cookie
        name: refresh_token
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Refresh Token
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Refresh
      tags:
      - auth
  /api/v1/auth/register:
    post:
      description: Register a new user with email and password.
      operationId: register_api_v1_auth_register_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      summary: Register
      tags:
      - auth
  /api/v1/health:
    get:
      operationId: health_check_api_v1_health_get
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
      summary: Health Check
  /api/v1/media/:
    get:
      description: List all media files.
      operationId: list_media_api_v1_media__get
      parameters:
      - in: query
        name: skip
        required: false
        schema:
          default: 0
          title: Skip
          type: integer
      - in: query
        name: limit
        required: false
        schema:
          default: 50
          title: Limit
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/MediaResponse'
                title: Response List Media Api V1 Media  Get
                type: array
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: List Media
      tags:
      - media
  /api/v1/media/upload:
    post:
      description: 'Upload a media file (image, video, audio, or document).


        Returns the media metadata including URL and storage key.'
      operationId: upload_media_api_v1_media_upload_post
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Body_upload_media_api_v1_media_upload_post'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MediaResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Upload Media
      tags:
      - media
  /api/v1/media/upload-image:
    post:
      description: Upload an image file specifically.
      operationId: upload_image_api_v1_media_upload_image_post
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Body_upload_image_api_v1_media_upload_image_post'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MediaResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Upload Image
      tags:
      - media
  /api/v1/media/{media_id}:
    delete:
      description: Delete a media file and its record.
      operationId: delete_media_api_v1_media__media_id__delete
      parameters:
      - in: path
        name: media_id
        required: true
        schema:
          format: uuid
          title: Media Id
          type: string
      responses:
        '204':
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Delete Media
      tags:
      - media
    get:
      description: Get media metadata by ID.
      operationId: get_media_api_v1_media__media_id__get
      parameters:
      - in: path
        name: media_id
        required: true
        schema:
          format: uuid
          title: Media Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MediaResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Get Media
      tags:
      - media
  /api/v1/questions:
    get:
      description: List questions with pagination and optional filters.
      operationId: list_questions_api_v1_questions_get
      parameters:
      - in: query
        name: page
        required: false
        schema:
          default: 1
          minimum: 1
          title: Page
          type: integer
      - in: query
        name: page_size
        required: false
        schema:
          default: 20
          maximum: 100
          minimum: 1
          title: Page Size
          type: integer
      - in: query
        name: answer_type
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Answer Type
      - in: query
        name: difficulty
        required: false
        schema:
          anyOf:
          - type: integer
          - type: 'null'
          title: Difficulty
      - in: query
        name: taxonomy_id
        required: false
        schema:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Taxonomy Id
      - in: query
        name: status
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Status
      - description: Randomize question order
        in: query
        name: randomize
        required: false
        schema:
          default: false
          description: Randomize question order
          title: Randomize
          type: boolean
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestionListResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: List Questions
      tags:
      - questions
    post:
      description: Create a new question with parts and options.
      operationId: create_question_api_v1_questions_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestionCreate'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestionResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Create Question
      tags:
      - questions
  /api/v1/questions/{question_id}:
    delete:
      description: Delete a question (cascade deletes parts and options).
      operationId: delete_question_api_v1_questions__question_id__delete
      parameters:
      - in: path
        name: question_id
        required: true
        schema:
          format: uuid
          title: Question Id
          type: string
      responses:
        '204':
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Delete Question
      tags:
      - questions
    get:
      description: Get a single question by ID with all parts and options.
      operationId: get_question_api_v1_questions__question_id__get
      parameters:
      - in: path
        name: question_id
        required: true
        schema:
          format: uuid
          title: Question Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestionResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Get Question
      tags:
      - questions
    put:
      description: Update a question. If parts or options are provided, they replace
        existing ones.
      operationId: update_question_api_v1_questions__question_id__put
      parameters:
      - in: path
        name: question_id
        required: true
        schema:
          format: uuid
          title: Question Id
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestionUpdate'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestionResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Update Question
      tags:
      - questions
  /api/v1/questions/{question_id}/attempts:
    get:
      description: List all attempts for a specific question by the current user.
      operationId: list_question_attempts_api_v1_questions__question_id__attempts_get
      parameters:
      - in: path
        name: question_id
        required: true
        schema:
          format: uuid
          title: Question Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/QuestionAttemptResponse'
                title: Response List Question Attempts Api V1 Questions  Question
                  Id  Attempts Get
                type: array
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: List Question Attempts
      tags:
      - history
  /api/v1/questions/{question_id}/stats:
    get:
      description: Get statistics for a specific question for the current user.
      operationId: get_question_stats_api_v1_questions__question_id__stats_get
      parameters:
      - in: path
        name: question_id
        required: true
        schema:
          format: uuid
          title: Question Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Get Question Stats
      tags:
      - history
  /api/v1/questions/{question_id}/taxonomy:
    get:
      description: List taxonomy links for a question.
      operationId: list_question_taxonomy_links_api_v1_questions__question_id__taxonomy_get
      parameters:
      - in: path
        name: question_id
        required: true
        schema:
          format: uuid
          title: Question Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: List Question Taxonomy Links
      tags:
      - questions
    post:
      description: Link a question to a taxonomy node.
      operationId: link_question_taxonomy_api_v1_questions__question_id__taxonomy_post
      parameters:
      - in: path
        name: question_id
        required: true
        schema:
          format: uuid
          title: Question Id
          type: string
      - in: query
        name: taxonomy_id
        required: true
        schema:
          format: uuid
          title: Taxonomy Id
          type: string
      - in: query
        name: relevance_score
        required: false
        schema:
          anyOf:
          - type: number
          - type: 'null'
          default: 1.0
          title: Relevance Score
      responses:
        '201':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Link Question Taxonomy
      tags:
      - questions
  /api/v1/questions/{question_id}/taxonomy/bulk:
    post:
      description: Replace existing taxonomy links for a question with the provided
        list.
      operationId: bulk_set_question_taxonomy_api_v1_questions__question_id__taxonomy_bulk_post
      parameters:
      - in: path
        name: question_id
        required: true
        schema:
          format: uuid
          title: Question Id
          type: string
      requestBody:
        content:
          application/json:
            schema:
              items:
                format: uuid
                type: string
              title: Taxonomy Ids
              type: array
        required: true
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Bulk Set Question Taxonomy
      tags:
      - questions
  /api/v1/questions/{question_id}/taxonomy/{taxonomy_id}:
    delete:
      operationId: unlink_question_taxonomy_api_v1_questions__question_id__taxonomy__taxonomy_id__delete
      parameters:
      - in: path
        name: question_id
        required: true
        schema:
          format: uuid
          title: Question Id
          type: string
      - in: path
        name: taxonomy_id
        required: true
        schema:
          format: uuid
          title: Taxonomy Id
          type: string
      responses:
        '204':
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Unlink Question Taxonomy
      tags:
      - questions
  /api/v1/quiz-attempts/{attempt_id}/finish:
    post:
      description: Mark a quiz attempt as finished, compute final totals and mark
        completed.
      operationId: finish_quiz_api_v1_quiz_attempts__attempt_id__finish_post
      parameters:
      - in: path
        name: attempt_id
        required: true
        schema:
          format: uuid
          title: Attempt Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Finish Quiz
      tags:
      - attempts
  /api/v1/quiz-attempts/{attempt_id}/results:
    get:
      description: Return the full graded review of a completed quiz attempt.
      operationId: get_quiz_results_api_v1_quiz_attempts__attempt_id__results_get
      parameters:
      - in: path
        name: attempt_id
        required: true
        schema:
          format: uuid
          title: Attempt Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Get Quiz Results
      tags:
      - attempts
  /api/v1/quiz-attempts/{attempt_id}/submit-answer:
    post:
      operationId: submit_answer_api_v1_quiz_attempts__attempt_id__submit_answer_post
      parameters:
      - in: path
        name: attempt_id
        required: true
        schema:
          format: uuid
          title: Attempt Id
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuestionAttemptCreate'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuestionAttemptResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Submit Answer
      tags:
      - attempts
  /api/v1/quizzes:
    get:
      description: List quizzes; current_user injected if authenticated (optional).
      operationId: list_quizzes_api_v1_quizzes_get
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/QuizResponse'
                title: Response List Quizzes Api V1 Quizzes Get
                type: array
          description: Successful Response
      security:
      - HTTPBearer: []
      summary: List Quizzes
      tags:
      - quizzes
    post:
      operationId: create_quiz_api_v1_quizzes_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuizCreate'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuizResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Create Quiz
      tags:
      - quizzes
  /api/v1/quizzes/published:
    get:
      description: List published quizzes; current_user injected if authenticated
        (optional).
      operationId: list_published_quizzes_api_v1_quizzes_published_get
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/QuizResponse'
                title: Response List Published Quizzes Api V1 Quizzes Published Get
                type: array
          description: Successful Response
      security:
      - HTTPBearer: []
      summary: List Published Quizzes
      tags:
      - quizzes
  /api/v1/quizzes/{quiz_id}:
    get:
      operationId: get_quiz_api_v1_quizzes__quiz_id__get
      parameters:
      - in: path
        name: quiz_id
        required: true
        schema:
          format: uuid
          title: Quiz Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuizResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Get Quiz
      tags:
      - quizzes
  /api/v1/quizzes/{quiz_id}/publish:
    post:
      description: Create a QuizVersion snapshot. Provide question_ids explicitly
        since quizzes don't currently link questions.
      operationId: publish_quiz_api_v1_quizzes__quiz_id__publish_post
      parameters:
      - in: path
        name: quiz_id
        required: true
        schema:
          format: uuid
          title: Quiz Id
          type: string
      - in: query
        name: created_by
        required: false
        schema:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Created By
      requestBody:
        content:
          application/json:
            schema:
              anyOf:
              - items:
                  format: uuid
                  type: string
                type: array
              - type: 'null'
              title: Question Ids
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Publish Quiz
      tags:
      - quizzes
  /api/v1/quizzes/{quiz_id}/questions:
    get:
      operationId: list_quiz_questions_api_v1_quizzes__quiz_id__questions_get
      parameters:
      - in: path
        name: quiz_id
        required: true
        schema:
          format: uuid
          title: Quiz Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: List Quiz Questions
      tags:
      - quizzes
    post:
      operationId: add_question_to_quiz_api_v1_quizzes__quiz_id__questions_post
      parameters:
      - in: path
        name: quiz_id
        required: true
        schema:
          format: uuid
          title: Quiz Id
          type: string
      - in: query
        name: question_id
        required: true
        schema:
          format: uuid
          title: Question Id
          type: string
      - in: query
        name: index
        required: false
        schema:
          anyOf:
          - type: integer
          - type: 'null'
          title: Index
      responses:
        '201':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Add Question To Quiz
      tags:
      - quizzes
  /api/v1/quizzes/{quiz_id}/questions/{question_id}:
    delete:
      operationId: remove_question_from_quiz_api_v1_quizzes__quiz_id__questions__question_id__delete
      parameters:
      - in: path
        name: quiz_id
        required: true
        schema:
          format: uuid
          title: Quiz Id
          type: string
      - in: path
        name: question_id
        required: true
        schema:
          format: uuid
          title: Question Id
          type: string
      responses:
        '204':
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Remove Question From Quiz
      tags:
      - quizzes
  /api/v1/quizzes/{quiz_id}/start:
    post:
      description: 'Start a quiz attempt.


        If `version_id` is provided, use that QuizVersion. Otherwise resolve the latest
        published QuizVersion for the quiz.'
      operationId: start_quiz_api_v1_quizzes__quiz_id__start_post
      parameters:
      - in: path
        name: quiz_id
        required: true
        schema:
          format: uuid
          title: Quiz Id
          type: string
      - in: query
        name: version_id
        required: false
        schema:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Version Id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QuizAttemptCreate'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuizAttemptResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Start Quiz
      tags:
      - attempts
  /api/v1/quizzes/{quiz_id}/versions:
    get:
      operationId: list_quiz_versions_api_v1_quizzes__quiz_id__versions_get
      parameters:
      - in: path
        name: quiz_id
        required: true
        schema:
          format: uuid
          title: Quiz Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: List Quiz Versions
      tags:
      - quizzes
  /api/v1/stats/me/taxonomy/tree:
    get:
      operationId: get_my_taxonomy_tree_api_v1_stats_me_taxonomy_tree_get
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successful Response
      security:
      - HTTPBearer: []
      summary: Get My Taxonomy Tree
      tags:
      - stats
  /api/v1/taxonomy:
    post:
      operationId: create_taxonomy_api_v1_taxonomy_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TaxonomyCreate'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaxonomyResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Create Taxonomy
      tags:
      - taxonomy
  /api/v1/taxonomy/tree:
    get:
      operationId: get_taxonomy_tree_api_v1_taxonomy_tree_get
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/TaxonomyTreeResponse'
                title: Response Get Taxonomy Tree Api V1 Taxonomy Tree Get
                type: array
          description: Successful Response
      security:
      - HTTPBearer: []
      summary: Get Taxonomy Tree
      tags:
      - taxonomy
  /api/v1/taxonomy/{node_id}:
    delete:
      operationId: delete_taxonomy_node_api_v1_taxonomy__node_id__delete
      parameters:
      - in: path
        name: node_id
        required: true
        schema:
          format: uuid
          title: Node Id
          type: string
      responses:
        '204':
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Delete Taxonomy Node
      tags:
      - taxonomy
    get:
      operationId: get_taxonomy_node_api_v1_taxonomy__node_id__get
      parameters:
      - in: path
        name: node_id
        required: true
        schema:
          format: uuid
          title: Node Id
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaxonomyResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Get Taxonomy Node
      tags:
      - taxonomy
    put:
      operationId: update_taxonomy_node_api_v1_taxonomy__node_id__put
      parameters:
      - in: path
        name: node_id
        required: true
        schema:
          format: uuid
          title: Node Id
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TaxonomyCreate'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaxonomyResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Update Taxonomy Node
      tags:
      - taxonomy
  /api/v1/taxonomy/{node_id}/move:
    put:
      operationId: move_taxonomy_node_api_v1_taxonomy__node_id__move_put
      parameters:
      - in: path
        name: node_id
        required: true
        schema:
          format: uuid
          title: Node Id
          type: string
      - in: query
        name: parent_id
        required: true
        schema:
          anyOf:
          - format: uuid
            type: string
          - type: 'null'
          title: Parent Id
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaxonomyResponse'
          description: Successful Response
        '422':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
          description: Validation Error
      security:
      - HTTPBearer: []
      summary: Move Taxonomy Node
      tags:
      - taxonomy

